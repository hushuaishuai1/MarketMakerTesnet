2024-12-21 14:35:39 - INFO - Datos cargados correctamente desde ML/data/processed/BTCUSDT_15m_processed.csv, filas: 245845
2024-12-21 14:35:39 - INFO - Eliminados 199 registros con valores faltantes.
2024-12-21 14:35:39 - INFO - Indicadores calculados y filas NaN eliminadas.
2024-12-21 14:35:42 - INFO - Variable objetivo generada con look_ahead: 1, lower_percentile: 20, upper_percentile: 80
2024-12-21 14:35:42 - INFO - Umbrales calculados - lower: -0.001838, upper: 0.001900
2024-12-21 14:35:42 - INFO - Distribución de clases:
target
0    147387
2     49129
1     49129
Name: count, dtype: int64
2024-12-21 14:35:42 - INFO - No se eliminaron columnas por correlación > 0.85
2024-12-21 14:35:42 - INFO - Distribución de clases en todo el conjunto: 
target
0    147387
2     49129
1     49129
Name: count, dtype: int64
2024-12-21 14:35:42 - INFO - Tamaño train: (157212, 12), valid: (39304, 12), test: (49129, 12)
2024-12-21 14:35:42 - INFO - Distribución de clases en train: 
target
0    85432
2    35994
1    35786
Name: count, dtype: int64
2024-12-21 14:35:42 - INFO - Distribución de clases en validación: 
target
0    25999
1     6744
2     6561
Name: count, dtype: int64
2024-12-21 14:35:42 - INFO - Distribución de clases en test: 
target
0    35956
1     6599
2     6574
Name: count, dtype: int64
2024-12-21 14:35:42 - INFO - Pesos de clases: {0: 0.6134001310984174, 1: 1.4643715419437768, 2: 1.4559093182197034}
2024-12-21 14:45:20 - INFO - Mejores parámetros: {'subsample': 0.8, 'reg_lambda': 1, 'reg_alpha': 10, 'n_estimators': 300, 'max_depth': 3, 'learning_rate': 0.2, 'gamma': 0.5, 'colsample_bytree': 1.0}
2024-12-21 14:45:20 - INFO - F1-score en validación: 0.4193
2024-12-21 14:45:20 - INFO - Distribución de clases en validación:
0    18951
2    14726
1     5627
Name: count, dtype: int64
2024-12-21 14:45:20 - INFO - === Evaluación en Test ===
2024-12-21 14:45:20 - INFO - Matriz de Confusión (clases [2,1,0]):
[[ 2416  1304  2854]
 [ 2250  1460  2889]
 [ 6142  2639 27175]]
2024-12-21 14:45:20 - INFO - Reporte de Clasificación:
              precision    recall  f1-score   support

           2       0.22      0.37      0.28      6574
           1       0.27      0.22      0.24      6599
           0       0.83      0.76      0.79     35956

    accuracy                           0.63     49129
   macro avg       0.44      0.45      0.44     49129
weighted avg       0.67      0.63      0.65     49129

2024-12-21 14:45:20 - INFO - F1-score macro en test: 0.4368
