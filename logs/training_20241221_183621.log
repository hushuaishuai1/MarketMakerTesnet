2024-12-21 18:36:25 - INFO - Datos cargados correctamente desde ML/data/processed/BTCUSDT_15m_processed.csv, filas: 245845
2024-12-21 18:36:25 - INFO - Eliminados 199 registros con valores faltantes.
2024-12-21 18:36:25 - INFO - Indicadores calculados y filas NaN eliminadas.
2024-12-21 18:36:28 - INFO - Variable objetivo generada con look_ahead: 1, lower_percentile: 10, upper_percentile: 90
2024-12-21 18:36:28 - INFO - Umbrales calculados - lower: -0.003408, upper: 0.003481
2024-12-21 18:36:28 - INFO - Distribución de clases:
target
0    196515
2     24565
1     24565
Name: count, dtype: int64
2024-12-21 18:36:28 - INFO - No se eliminaron columnas por correlación > 0.85
2024-12-21 18:36:28 - INFO - Distribución de clases en todo el conjunto: 
target
0    196515
2     24565
1     24565
Name: count, dtype: int64
2024-12-21 18:36:28 - INFO - Tamaño train: (157212, 12), valid: (39304, 12), test: (49129, 12)
2024-12-21 18:36:28 - INFO - Distribución de clases en train: 
target
0    118996
2     19184
1     19032
Name: count, dtype: int64
2024-12-21 18:36:28 - INFO - Distribución de clases en validación: 
target
0    33304
1     3065
2     2935
Name: count, dtype: int64
2024-12-21 18:36:28 - INFO - Distribución de clases en test: 
target
0    44215
1     2468
2     2446
Name: count, dtype: int64
2024-12-21 18:36:28 - INFO - Forma de y_train: (157212,), Tipo: int64
2024-12-21 18:36:28 - INFO - Forma de y_valid: (39304,), Tipo: int64
2024-12-21 18:36:28 - INFO - Forma de y_test: (49129,), Tipo: int64
2024-12-21 18:36:28 - INFO - === Entrenando XGBoost con Optuna ===
2024-12-21 19:46:35 - INFO - Optuna encontró los mejores parámetros: {'model__max_depth': 3, 'model__learning_rate': 0.1234456258392575, 'model__n_estimators': 810, 'model__subsample': 0.9282527432518528, 'model__colsample_bytree': 0.8125645444486699, 'model__gamma': 1.0730347401549208e-05, 'model__reg_alpha': 1.793470211796106e-06, 'model__reg_lambda': 0.02712068483723212}
2024-12-21 19:47:55 - INFO - F1-score macro en validación con Optuna: 0.3626
2024-12-21 19:47:55 - INFO - Modelo completo (XGBoost) guardado en: results/XGBoost_trained_pipeline.joblib
2024-12-21 19:47:55 - INFO - Parámetros del modelo XGBoost guardados en: results/XGBoost_model_params.txt
2024-12-21 19:47:55 - INFO - Columnas de características XGBoost guardadas en: results/XGBoost_feature_cols.txt
2024-12-21 19:47:55 - INFO - Columnas eliminadas XGBoost guardadas en: results/XGBoost_drop_cols.txt
2024-12-21 19:47:55 - INFO - === Evaluación de XGBoost en Test ===
