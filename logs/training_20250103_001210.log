2025-01-03 00:12:13 - INFO - Datos cargados desde ML/data/processed/BTCUSDT_15m_processed.csv, filas: 251947
2025-01-03 00:12:13 - INFO - Columnas de indicadores técnicos existentes eliminadas: ['OBV']
2025-01-03 00:12:14 - INFO - Indicadores técnicos agregados al DataFrame. Filas antes: 251947, después: 251898
2025-01-03 00:12:14 - INFO - Columnas después de agregar indicadores técnicos: ['open', 'high', 'low', 'close', 'volume', 'close_time', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'ignore', 'RSI_14', 'MACD_12_26_9', 'MACDh_12_26_9', 'MACDs_12_26_9', 'SMA_10', 'SMA_50', 'EMA_10', 'EMA_50', 'VWAP_D', 'BBL_20_2.0', 'BBM_20_2.0', 'BBU_20_2.0', 'BBB_20_2.0', 'BBP_20_2.0', 'ATRr_14', 'STOCHk_14_3_3', 'STOCHd_14_3_3', 'CCI_14_0.015', 'hour_of_day', 'day_of_week', 'is_weekend', 'RSI_14_', 'MACD_12_26_9_', 'MACDh_12_26_9_', 'MACDs_12_26_9_', 'SMA_10_', 'SMA_50_', 'EMA_10_', 'EMA_50_', 'VWAP_D_', 'OBV_', 'BBL_20_2.0_', 'BBM_20_2.0_', 'BBU_20_2.0_', 'BBB_20_2.0_', 'BBP_20_2.0_', 'ATRr_14_', 'STOCHk_14_3_3_', 'STOCHd_14_3_3_', 'CCI_14_0.015_']
2025-01-03 00:12:14 - INFO - Columnas renombradas: {'RSI_14': 'RSI', 'RSI_14_': 'RSI_', 'MACD_12_26_9': 'MACD', 'MACD_12_26_9_': 'MACD_', 'MACDh_12_26_9': 'MACDh', 'MACDh_12_26_9_': 'MACDh_', 'MACDs_12_26_9': 'MACDs', 'MACDs_12_26_9_': 'MACDs_', 'VWAP_D': 'VWAP', 'VWAP_D_': 'VWAP_', 'BBL_20_2.0': 'BBL', 'BBL_20_2.0_': 'BBL_', 'BBM_20_2.0': 'BBM', 'BBM_20_2.0_': 'BBM_', 'BBU_20_2.0': 'BBU', 'BBU_20_2.0_': 'BBU_', 'ATRr_14': 'ATR', 'ATRr_14_': 'ATR_', 'STOCHk_14_3_3': 'STOCHk', 'STOCHk_14_3_3_': 'STOCHk_', 'STOCHd_14_3_3': 'STOCHd', 'STOCHd_14_3_3_': 'STOCHd_', 'CCI_14_0.015': 'CCI', 'CCI_14_0.015_': 'CCI_'}
2025-01-03 00:12:14 - INFO - Columnas duplicadas eliminadas: ['RSI_', 'MACD_', 'MACDh_', 'MACDs_', 'SMA_10_', 'SMA_50_', 'EMA_10_', 'EMA_50_', 'VWAP_', 'OBV_', 'BBL_', 'BBM_', 'BBU_', 'BBB_20_2.0_', 'BBP_20_2.0_', 'ATR_', 'STOCHk_', 'STOCHd_', 'CCI_']
2025-01-03 00:12:14 - WARNING - La columna 'OBV' no está presente después de agregar indicadores. Añadiendo 'OBV' con valor 0.
2025-01-03 00:12:14 - INFO - Target binario mejorado con look_ahead=48, min_change=0.01, max_change=0.2
2025-01-03 00:12:14 - INFO - Distribución de clases (0/1):
target
0    185425
1     66323
Name: count, dtype: int64
2025-01-03 00:12:14 - INFO - División de datos en train y test completada.
2025-01-03 00:12:14 - INFO - === Buscando hiperparámetros (Optuna) en una muestra del training ===
2025-01-03 00:12:14 - INFO - Características utilizadas: ['open', 'high', 'low', 'close', 'volume', 'hour_of_day', 'day_of_week', 'is_weekend', 'RSI', 'MACD', 'MACDs', 'MACDh', 'SMA_10', 'SMA_50', 'EMA_10', 'EMA_50', 'VWAP', 'OBV', 'BBL', 'BBM', 'BBU', 'ATR', 'STOCHk', 'STOCHd', 'CCI']
2025-01-03 00:12:14 - INFO - No se han identificado características categóricas.
2025-01-03 00:12:14 - INFO - Columnas presentes en el DataFrame: ['open', 'high', 'low', 'close', 'volume', 'close_time', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'ignore', 'RSI', 'MACD', 'MACDh', 'MACDs', 'SMA_10', 'SMA_50', 'EMA_10', 'EMA_50', 'VWAP', 'BBL', 'BBM', 'BBU', 'BBB_20_2.0', 'BBP_20_2.0', 'ATR', 'STOCHk', 'STOCHd', 'CCI', 'hour_of_day', 'day_of_week', 'is_weekend', 'OBV', 'future_close', 'change_pct', 'target']
2025-01-03 00:12:14 - INFO - Columnas eliminadas durante la preparación: ['close_time', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'ignore', 'BBB_20_2.0', 'BBP_20_2.0', 'future_close', 'change_pct']
2025-01-03 00:12:14 - INFO - Conjunto de datos preparado con 52866 filas y 25 características.
2025-01-03 00:12:14 - INFO - Tipo de y_train_sample: <class 'pandas.core.series.Series'>
2025-01-03 00:12:14 - INFO - Shape de y_train_sample: (52866,)
2025-01-03 00:12:14 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:12:14 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:12:16 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:12:16 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:12:17 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:12:17 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:12:19 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:12:20 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:12:22 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:12:24 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:12:25 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:12:26 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:12:26 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:12:27 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:12:27 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:12:28 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:12:29 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:12:29 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:12:30 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:12:31 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:12:32 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:12:33 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:12:33 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:12:33 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:12:34 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:12:35 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:12:35 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:12:36 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:12:37 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:12:37 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:12:38 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:12:40 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:12:40 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:12:43 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:12:44 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:12:46 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:12:48 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:12:49 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:12:52 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:12:52 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:12:55 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:12:56 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:12:56 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:12:57 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:12:57 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:12:58 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:12:58 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:13:00 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:13:00 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:13:02 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:13:02 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:13:03 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:13:04 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:13:04 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:13:05 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:13:06 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:13:07 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:13:08 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:13:10 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:13:10 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:13:11 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:13:13 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:13:14 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:13:15 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:13:17 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:13:17 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:13:18 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:13:20 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:13:20 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:13:23 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:13:23 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:13:24 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:13:25 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:13:26 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:13:26 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:13:27 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:13:28 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:13:29 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:13:30 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:13:31 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:13:32 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:13:33 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:13:34 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:13:34 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:13:36 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:13:36 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:13:38 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:13:39 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:13:41 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:13:42 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:13:44 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:13:45 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:13:45 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:13:46 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:13:46 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:13:47 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:13:48 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:13:48 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:13:49 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:13:50 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:13:51 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:13:52 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:13:52 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:13:54 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:13:55 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:13:56 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:13:57 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:14:00 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:14:01 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:14:05 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:14:05 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:14:06 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:14:07 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:14:10 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:14:12 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:14:12 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:14:14 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:14:14 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:14:15 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:14:16 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:14:17 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:14:17 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:14:19 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:14:19 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:14:21 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:14:22 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:14:22 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:14:23 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:14:24 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:14:25 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:14:25 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:14:26 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:14:27 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:14:28 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:14:29 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:14:30 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:14:31 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:14:32 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:14:33 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:14:34 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:14:35 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:14:36 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:14:37 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:14:38 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:14:40 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:14:40 - INFO - Después de SMOTE: target
0    5166
1    5166
Name: count, dtype: int64
2025-01-03 00:14:41 - INFO - Después de SMOTE: target
0    9946
1    9946
Name: count, dtype: int64
2025-01-03 00:14:43 - INFO - Después de SMOTE: target
0    15731
1    15731
Name: count, dtype: int64
2025-01-03 00:14:44 - INFO - Después de SMOTE: target
0    22318
1    22318
Name: count, dtype: int64
2025-01-03 00:14:46 - INFO - Después de SMOTE: target
0    29895
1    29895
Name: count, dtype: int64
2025-01-03 00:14:47 - INFO - Mejor valor de F1: 0.4269
2025-01-03 00:14:47 - INFO - Mejores parámetros: {'max_depth': 8, 'learning_rate': 0.0012778381067645235, 'n_estimators': 166, 'subsample': 0.6969565824115134, 'colsample_bytree': 0.72379846017688, 'gamma': 0.3015858986068299, 'reg_alpha': 0.047765540126396125, 'reg_lambda': 0.0030073257841060188}
2025-01-03 00:14:47 - INFO - === Entrenando Pipeline Final con TODO el training ===
2025-01-03 00:14:47 - INFO - Columnas presentes en el DataFrame: ['open', 'high', 'low', 'close', 'volume', 'close_time', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'ignore', 'RSI', 'MACD', 'MACDh', 'MACDs', 'SMA_10', 'SMA_50', 'EMA_10', 'EMA_50', 'VWAP', 'BBL', 'BBM', 'BBU', 'BBB_20_2.0', 'BBP_20_2.0', 'ATR', 'STOCHk', 'STOCHd', 'CCI', 'hour_of_day', 'day_of_week', 'is_weekend', 'OBV', 'future_close', 'change_pct', 'target']
2025-01-03 00:14:47 - INFO - Columnas eliminadas durante la preparación: ['close_time', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'ignore', 'BBB_20_2.0', 'BBP_20_2.0', 'future_close', 'change_pct']
2025-01-03 00:14:47 - INFO - Conjunto de datos preparado con 176223 filas y 25 características.
2025-01-03 00:14:47 - INFO - Tipo de y_train_full: <class 'pandas.core.series.Series'>
2025-01-03 00:14:47 - INFO - Shape de y_train_full: (176223,)
2025-01-03 00:14:52 - INFO - Después de SMOTE: target
0    125416
1    125416
Name: count, dtype: int64
2025-01-03 00:14:52 - INFO - Balance de clases aplicado mediante SMOTE.
2025-01-03 00:14:57 - INFO - Pipeline final entrenado con todos los datos de entrenamiento (binario).
2025-01-03 00:14:57 - INFO - Pipeline completo guardado en: ./results/XGBoost_Binario_trained_pipeline.joblib
2025-01-03 00:14:57 - INFO - Parámetros guardados en: ./results/XGBoost_Binario_model_params.txt
2025-01-03 00:14:57 - INFO - Lista de features guardada en: ./results/XGBoost_Binario_feature_cols.txt
2025-01-03 00:14:57 - INFO - Columnas de indicadores técnicos existentes eliminadas: ['RSI', 'MACD', 'MACDs', 'MACDh', 'VWAP', 'OBV', 'BBL', 'BBM', 'BBU', 'ATR', 'STOCHk', 'STOCHd', 'CCI']
2025-01-03 00:14:57 - INFO - Indicadores técnicos agregados al DataFrame. Filas antes: 75525, después: 75476
2025-01-03 00:14:57 - INFO - Columnas después de agregar indicadores técnicos: ['open', 'high', 'low', 'close', 'volume', 'close_time', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'ignore', 'SMA_10', 'SMA_50', 'EMA_10', 'EMA_50', 'BBB_20_2.0', 'BBP_20_2.0', 'hour_of_day', 'day_of_week', 'is_weekend', 'future_close', 'change_pct', 'target', 'RSI_14_', 'MACD_12_26_9_', 'MACDh_12_26_9_', 'MACDs_12_26_9_', 'SMA_10_', 'SMA_50_', 'EMA_10_', 'EMA_50_', 'VWAP_D_', 'OBV_', 'BBL_20_2.0_', 'BBM_20_2.0_', 'BBU_20_2.0_', 'BBB_20_2.0_', 'BBP_20_2.0_', 'ATRr_14_', 'STOCHk_14_3_3_', 'STOCHd_14_3_3_', 'CCI_14_0.015_']
2025-01-03 00:14:57 - INFO - Columnas renombradas: {'RSI_14_': 'RSI', 'MACD_12_26_9_': 'MACD', 'MACDh_12_26_9_': 'MACDh', 'MACDs_12_26_9_': 'MACDs', 'VWAP_D_': 'VWAP', 'BBL_20_2.0_': 'BBL', 'BBM_20_2.0_': 'BBM', 'BBU_20_2.0_': 'BBU', 'ATRr_14_': 'ATR', 'STOCHk_14_3_3_': 'STOCHk', 'STOCHd_14_3_3_': 'STOCHd', 'CCI_14_0.015_': 'CCI'}
2025-01-03 00:14:57 - INFO - Columnas duplicadas eliminadas: ['SMA_10_', 'SMA_50_', 'EMA_10_', 'EMA_50_', 'OBV_', 'BBB_20_2.0_', 'BBP_20_2.0_']
2025-01-03 00:14:57 - WARNING - La columna 'OBV' no está presente después de agregar indicadores. Añadiendo 'OBV' con valor 0.
2025-01-03 00:14:57 - INFO - Target binario mejorado con look_ahead=48, min_change=0.01, max_change=0.2
2025-01-03 00:14:57 - INFO - Distribución de clases (0/1):
target
0    59955
1    15473
Name: count, dtype: int64
2025-01-03 00:14:57 - INFO - Columnas presentes en el DataFrame: ['open', 'high', 'low', 'close', 'volume', 'close_time', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'ignore', 'SMA_10', 'SMA_50', 'EMA_10', 'EMA_50', 'BBB_20_2.0', 'BBP_20_2.0', 'hour_of_day', 'day_of_week', 'is_weekend', 'future_close', 'change_pct', 'target', 'RSI', 'MACD', 'MACDh', 'MACDs', 'VWAP', 'BBL', 'BBM', 'BBU', 'ATR', 'STOCHk', 'STOCHd', 'CCI', 'OBV']
2025-01-03 00:14:57 - INFO - Columnas eliminadas durante la preparación: ['close_time', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'ignore', 'BBB_20_2.0', 'BBP_20_2.0', 'future_close', 'change_pct']
2025-01-03 00:14:57 - INFO - Conjunto de datos preparado con 75428 filas y 25 características.
2025-01-03 00:14:57 - INFO - Características en X_test_final: ['open', 'high', 'low', 'close', 'volume', 'hour_of_day', 'day_of_week', 'is_weekend', 'RSI', 'MACD', 'MACDs', 'MACDh', 'SMA_10', 'SMA_50', 'EMA_10', 'EMA_50', 'VWAP', 'OBV', 'BBL', 'BBM', 'BBU', 'ATR', 'STOCHk', 'STOCHd', 'CCI']
2025-01-03 00:14:57 - INFO - Tipo de y_test_final: <class 'pandas.core.series.Series'>
2025-01-03 00:14:57 - INFO - Shape de y_test_final: (75428,)
2025-01-03 00:14:57 - INFO - Las características del test coinciden perfectamente con las del entrenamiento.
2025-01-03 00:14:57 - INFO - === Evaluación en Test ===
2025-01-03 00:14:58 - INFO - Matriz de confusión [1,0]:
[[ 7743  7730]
 [23831 36124]]
2025-01-03 00:14:58 - INFO - Reporte de Clasificación:
              precision    recall  f1-score   support

           1       0.25      0.50      0.33     15473
           0       0.82      0.60      0.70     59955

    accuracy                           0.58     75428
   macro avg       0.53      0.55      0.51     75428
weighted avg       0.71      0.58      0.62     75428

2025-01-03 00:14:58 - INFO - F1-score: 0.3292
2025-01-03 00:14:58 - INFO - Precisión: 0.2452
2025-01-03 00:14:58 - INFO - Recall: 0.5004
2025-01-03 00:14:58 - INFO - AUC Score: 0.5758
2025-01-03 00:15:00 - INFO - F1 final en Test (Binario): 0.3292
2025-01-03 00:15:00 - INFO - === Analizando importancia de características ===
2025-01-03 00:15:00 - INFO - Tabla de importancia de características guardada en ./results/feature_importances_binario.csv.
2025-01-03 00:15:01 - INFO - Gráfico de importancia de características guardado.
2025-01-03 00:15:01 - INFO - Señales generadas con umbrales high=0.74, low=0.2
2025-01-03 00:15:01 - INFO - Señales guardadas en: ./results/signals.csv
2025-01-03 00:15:01 - INFO - === Proceso Completado con Éxito ===
