2024-12-30 23:10:00 - INFO - Datos cargados desde /Users/oscarr/Desarrollo/Python0/ApiBinance/ML/data/processed/BTCUSDT_15m_processed.csv, filas: 251797
2024-12-30 23:10:04 - INFO - Target con look_ahead=6, lower=28, upper=75, min_change=0.006
2024-12-30 23:10:04 - INFO - Umbral inferior=-0.002520, superior=0.003374
2024-12-30 23:10:04 - INFO - Distribución de clases:
target
0    178322
2     37937
1     35532
Name: count, dtype: int64
2024-12-30 23:10:04 - INFO - División de datos en train y test completada.
2024-12-30 23:10:04 - INFO - === Buscando hiperparámetros (Optuna) en una muestra del training ===
2024-12-30 23:10:04 - INFO - Características cargadas desde: /Users/oscarr/Desarrollo/Python0/ApiBinance/ML/data/processed/feature_columns.pkl
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:04 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:05 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:06 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - ERROR - Error durante el entrenamiento: XGBClassifier.fit() got an unexpected keyword argument 'early_stopping_rounds'
2024-12-30 23:10:07 - INFO - Mejor valor de F1 macro: 0.0
2024-12-30 23:10:07 - INFO - Mejores parámetros: {'max_depth': 7, 'learning_rate': 0.07969454818643935, 'n_estimators': 393, 'subsample': 0.7993292420985183, 'colsample_bytree': 0.5780093202212182, 'gamma': 0.0004207053950287938, 'reg_alpha': 1.493656855461762e-05, 'reg_lambda': 0.0005399484409787432}
2024-12-30 23:10:07 - INFO - === Entrenando Pipeline Final con TODO el training ===
2024-12-30 23:11:14 - INFO - Pipeline final entrenado con todos los datos de entrenamiento.
2024-12-30 23:11:14 - INFO - Modelo guardado en: /Users/oscarr/Desarrollo/Python0/ApiBinance/results/XGBoost_trained_pipeline.joblib
2024-12-30 23:11:14 - INFO - Parámetros guardados en: /Users/oscarr/Desarrollo/Python0/ApiBinance/results/XGBoost_model_params.txt
2024-12-30 23:11:14 - INFO - Lista de features guardada en: /Users/oscarr/Desarrollo/Python0/ApiBinance/results/XGBoost_feature_cols.txt
2024-12-30 23:11:14 - INFO - === Preparando Test ===
2024-12-30 23:11:16 - INFO - Target con look_ahead=6, lower=28, upper=75, min_change=0.006
2024-12-30 23:11:16 - INFO - Umbral inferior=-0.002061, superior=0.002628
2024-12-30 23:11:16 - INFO - Distribución de clases:
target
0    79372
2    10804
1    10535
Name: count, dtype: int64
2024-12-30 23:11:16 - INFO - === Evaluación en Test ===
2024-12-30 23:11:17 - INFO - Matriz de confusión [2,1,0]:
[[ 6867  2002  1935]
 [ 6519  1996  2020]
 [52178 10051 17143]]
2024-12-30 23:11:17 - INFO - Reporte de Clasificación:
              precision    recall  f1-score   support

           2       0.10      0.64      0.18     10804
           1       0.14      0.19      0.16     10535
           0       0.81      0.22      0.34     79372

    accuracy                           0.26    100711
   macro avg       0.35      0.35      0.23    100711
weighted avg       0.67      0.26      0.31    100711

2024-12-30 23:11:17 - INFO - F1-score macro: 0.2278
2024-12-30 23:11:20 - INFO - F1 macro final en Test: 0.2278
2024-12-30 23:11:20 - INFO - === Analizando importancia de características ===
2024-12-30 23:11:20 - INFO - Tabla de importancia de características guardada en /Users/oscarr/Desarrollo/Python0/ApiBinance/results/feature_importances.csv.
2024-12-30 23:11:20 - INFO - Gráfico de importancia de características guardado.
2024-12-30 23:11:20 - INFO - === Mini-Backtest con SL/TP en Test ===
2024-12-30 23:11:20 - ERROR - Error en la ejecución principal: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().
