2025-01-05 00:31:27 - INFO - Datos cargados desde ML/data/processed/BTCUSDT_15m_processed.csv, filas: 251947
2025-01-05 00:31:27 - INFO - Columnas de indicadores técnicos existentes eliminadas: ['OBV']
2025-01-05 00:31:27 - INFO - Indicadores técnicos agregados al DataFrame. Filas antes: 251947, después: 251898
2025-01-05 00:31:27 - INFO - Columnas después de agregar indicadores técnicos: ['open', 'high', 'low', 'close', 'volume', 'close_time', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'ignore', 'RSI_14', 'MACD_12_26_9', 'MACDh_12_26_9', 'MACDs_12_26_9', 'SMA_10', 'SMA_50', 'EMA_10', 'EMA_50', 'VWAP_D', 'BBL_20_2.0', 'BBM_20_2.0', 'BBU_20_2.0', 'BBB_20_2.0', 'BBP_20_2.0', 'ATRr_14', 'STOCHk_14_3_3', 'STOCHd_14_3_3', 'CCI_14_0.015', 'OBV']
2025-01-05 00:31:27 - INFO - Columnas renombradas: {'RSI_14': 'RSI', 'MACD_12_26_9': 'MACD', 'MACDs_12_26_9': 'MACDs', 'MACDh_12_26_9': 'MACDh', 'VWAP': 'VWAP', 'BBL_20_2.0': 'BBL', 'BBM_20_2.0': 'BBM', 'BBU_20_2.0': 'BBU', 'ATRr_14': 'ATR', 'STOCHk_14_3_3': 'STOCHk', 'STOCHd_14_3_3': 'STOCHd', 'CCI_14_0.015': 'CCI'}
2025-01-05 00:31:27 - WARNING - Columna faltante 'VWAP' añadida con valor NaN.
2025-01-05 00:31:28 - INFO - Target multiclase con look_ahead=14, min_change=0.01, max_change=0.23
2025-01-05 00:31:28 - INFO - Distribución de clases (0: Vender, 1: Mantener, 2: Comprar):
target
1    182886
2     35692
0     33295
Name: count, dtype: int64
2025-01-05 00:31:28 - INFO - Muestra de datos con target:
                        close  future_close  change_pct  target
open_time                                                      
2023-10-25 16:00:00  35089.95      34574.66   -0.014685       0
2019-08-23 11:15:00  10116.29      10392.54    0.027307       2
2020-07-04 20:00:00   9129.18       9122.30   -0.000754       1
2019-12-07 22:00:00   7505.99       7435.28   -0.009420       1
2023-09-28 05:00:00  26427.11      26430.64    0.000134       1
2019-11-12 13:15:00   8690.45       8716.87    0.003040       1
2022-01-22 22:15:00  35014.44      35315.04    0.008585       1
2017-11-28 15:15:00   9836.99       9919.48    0.008386       1
2017-10-29 08:15:00   5799.98       5784.97   -0.002588       1
2018-03-21 17:45:00   8832.26       8935.00    0.011632       2
2025-01-05 00:31:28 - INFO - División de datos en train y test completada.
2025-01-05 00:31:28 - INFO - === Buscando hiperparámetros (Optuna) en una muestra del training ===
2025-01-05 00:31:28 - INFO - Características utilizadas: ['open', 'high', 'low', 'close', 'volume', 'RSI', 'MACD', 'MACDs', 'MACDh', 'SMA_10', 'SMA_50', 'EMA_10', 'EMA_50', 'VWAP', 'OBV', 'BBL', 'BBM', 'BBU', 'ATR', 'STOCHk', 'STOCHd', 'CCI']
2025-01-05 00:31:28 - INFO - No se han identificado características categóricas.
2025-01-05 00:31:28 - INFO - Columnas presentes en el DataFrame: ['open', 'high', 'low', 'close', 'volume', 'close_time', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'ignore', 'RSI', 'MACD', 'MACDh', 'MACDs', 'SMA_10', 'SMA_50', 'EMA_10', 'EMA_50', 'VWAP_D', 'BBL', 'BBM', 'BBU', 'BBB_20_2.0', 'BBP_20_2.0', 'ATR', 'STOCHk', 'STOCHd', 'CCI', 'OBV', 'VWAP', 'future_close', 'change_pct', 'target']
2025-01-05 00:31:28 - INFO - Columnas eliminadas durante la preparación: ['close_time', 'quote_asset_volume', 'number_of_trades', 'taker_buy_base_asset_volume', 'taker_buy_quote_asset_volume', 'ignore', 'VWAP_D', 'BBB_20_2.0', 'BBP_20_2.0', 'future_close', 'change_pct']
2025-01-05 00:31:28 - ERROR - Error en la ejecución principal: Shape of passed values is (44077, 21), indices imply (44077, 22)
